{% extends "base.html" %}

{% block title %}–ê–Ω–∞–ª–∏—Ç–∏–∫–∞{% endblock %}

{% block content %}
<div class="container my-4">
    <a href="/" class="btn btn-light mb-3"><i class="fas fa-arrow-left"></i> –ù–∞ –≥–ª–∞–≤–Ω—É—é</a> <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É -->
    <h2 class="text-center mb-4">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥</h2>

    <!-- –†–∞–∑–¥–µ–ª –¢–æ–ø –∫–æ–º–∞–Ω–¥ -->
    <section class="mb-5">
        <h3 class="text-primary">üèÜ –¢–æ–ø –∫–æ–º–∞–Ω–¥</h3>
        {% if top_teams %}
            <div class="table-responsive mt-3">
                <table class="table table-hover table-striped">
                    <thead class="table-dark">
                        <tr>
                            <th>ID</th>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã</th>
                            <th>–ì–æ—Ä–æ–¥</th>
                            <th>–°—Ç–∞–¥–∏–æ–Ω</th>
                            <th>–û—á–∫–∏</th>
                            <th>–ò–≥—Ä–æ–∫–∏</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for team in top_teams %}
                            <tr>
                                <td>{{ team.id }}</td>
                                <td>{{ team.name }}</td>
                                <td>{{ team.city }}</td>
                                <td>{{ team.stadium }}</td>
                                <td><span class="badge bg-success">{{ team.points }}</span></td>
                                <td>{{ team.players|length }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% else %}
            <p class="text-muted">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>
        {% endif %}
    </section>

    <!-- –†–∞–∑–¥–µ–ª –õ–∏–¥–µ—Ä—ã –ø–æ –∑–∞–±–∏—Ç—ã–º –≥–æ–ª–∞–º -->
    <section class="mb-5">
        <h3 class="text-success">‚öΩ –õ–∏–¥–µ—Ä—ã –ø–æ –∑–∞–±–∏—Ç—ã–º –≥–æ–ª–∞–º</h3>
        {% if top_scorers %}
            <div class="table-responsive mt-3">
                <table class="table table-hover table-striped">
                    <thead class="table-dark">
                        <tr>
                            <th>ID –ò–≥—Ä–æ–∫–∞</th>
                            <th>–ò–º—è –ò–≥—Ä–æ–∫–∞</th>
                            <th>–ö–æ–º–∞–Ω–¥–∞</th>
                            <th>–ü–æ–∑–∏—Ü–∏—è</th>
                            <th>–ì–æ–ª—ã</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for player in top_scorers %}
                            <tr>
                                <td>{{ player.id }}</td>
                                <td>{{ player.name }}</td>
                                <td>{{ player.team.name }}</td>
                                <td>{{ player.position }}</td>
                                <td><span class="badge bg-warning text-dark">{{ player.goals }}</span></td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% else %}
            <p class="text-muted">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>
        {% endif %}
    </section>

    <!-- –†–∞–∑–¥–µ–ª –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ç—á–µ–π -->
    <section class="mb-5">
        <h3 class="text-info">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ç—á–µ–π</h3>
        {% if match_stats %}
            <div class="list-group mt-3">
                <div class="list-group-item d-flex justify-content-between align-items-center">
                    –û–±—â–∏–π —Å—á—ë—Ç –∑–∞–±–∏—Ç—ã—Ö –≥–æ–ª–æ–≤:
                    <span class="badge bg-primary rounded-pill">{{ match_stats.total_goals }}</span>
                </div>
                <div class="list-group-item d-flex justify-content-between align-items-center">
                    –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç—á–µ–π:
                    <span class="badge bg-secondary rounded-pill">{{ match_stats.total_matches }}</span>
                </div>
                <div class="list-group-item d-flex justify-content-between align-items-center">
                    –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–æ–≤ –∑–∞ –º–∞—Ç—á:
                    <span class="badge bg-info rounded-pill">{{ match_stats.avg_goals_per_match }}</span>
                </div>
                <div class="list-group-item d-flex justify-content-between align-items-center">
                    –°—Ä–µ–¥–Ω–∏–π –≤–æ–∑—Ä–∞—Å—Ç –∏–≥—Ä–æ–∫–æ–≤:
                    <span class="badge bg-light rounded-pill">{{ match_stats.avg_player_age }}</span>
                </div>
            </div>
        {% else %}
            <p class="text-muted">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>
        {% endif %}
    </section>

    <!-- –†–∞–∑–¥–µ–ª –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –∏–≥—Ä–æ–∫–µ -->
    <section>
        <h3 class="text-warning">üìã –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∏–≥—Ä–æ–∫–∞—Ö</h3>
        {% if all_players %}
            <div class="table-responsive mt-3">
                <table class="table table-hover table-striped">
                    <thead class="table-dark">
                        <tr>
                            <th>ID</th>
                            <th>–ò–º—è</th>
                            <th>–ö–æ–º–∞–Ω–¥–∞</th>
                            <th>–ü–æ–∑–∏—Ü–∏—è</th>
                            <th>–ì–æ–ª—ã</th>
                            <th>–û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–∫</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for player in all_players %}
                            <tr>
                                <td>{{ player.id }}</td>
                                <td>{{ player.name }}</td>
                                <td>{{ player.team.name }}</td>
                                <td>{{ player.position }}</td>
                                <td>{{ player.goals }}</td>
                                <td>{{ "–î–∞" if player.is_starter else "–ù–µ—Ç" }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% else %}
            <p class="text-muted">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>
        {% endif %}
    </section>
</div>
{% endblock %}

<style>
    .badge {
        font-size: 1rem; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –±–µ–π–¥–∂–∞ */
    }
    .table-responsive {
        max-width: 100%;
    }
</style>

<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Font Awesome –¥–ª—è –∏–∫–æ–Ω–æ–∫ -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
